{"ast":null,"code":"import { NgForm } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Model/Services/category/category.service\";\nimport * as i2 from \"src/app/Model/Services/item/item.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../navbar/navbar.component\";\nconst _c0 = [\"itemForm\"];\nfunction AddItemComponent_small_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Item Name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddItemComponent_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r17.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r17.name);\n  }\n}\nfunction AddItemComponent_small_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Category is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddItemComponent_small_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Price is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddItemComponent_h5_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h5\", 45);\n    i0.ɵɵelement(1, \"i\", 46);\n    i0.ɵɵtext(2, \"Added!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddItemComponent_h5_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h5\", 45);\n    i0.ɵɵelement(1, \"i\", 47);\n    i0.ɵɵtext(2, \"Warning!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddItemComponent_h5_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h5\", 48);\n    i0.ɵɵelement(1, \"i\", 49);\n    i0.ɵɵtext(2, \"Error!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddItemComponent_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"p\");\n    i0.ɵɵtext(2, \"Item Details added successfully. Details:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\")(4, \"b\");\n    i0.ɵɵtext(5, \"Item ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\")(8, \"b\");\n    i0.ɵɵtext(9, \"Item Name:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r14.lastItemId, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r14.lastItemName, \"\");\n  }\n}\nfunction AddItemComponent_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"p\");\n    i0.ɵɵtext(2, \"item not added!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddItemComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"p\");\n    i0.ɵɵtext(2, \"Please enter all Details\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class AddItemComponent {\n  constructor(categoryService, itemService) {\n    this.categoryService = categoryService;\n    this.itemService = itemService;\n    this.form = NgForm;\n    this.allCategories = [];\n    this.filteredCategory = [];\n  }\n  ngOnInit() {\n    this.fetchAllCategories();\n    console.log(this.allCategories);\n  }\n  fetchAllCategories() {\n    this.categoryService.getCategories().subscribe(data => {\n      this.allCategories.push(...data);\n    });\n  }\n  onItemAdd(form) {\n    if (form.valid) {\n      let item = {\n        name: form.value.name,\n        description: form.value.description,\n        price: form.value.price,\n        ratings: form.value.ratings,\n        discount: form.value.discount,\n        category_id: this.resolveCategoryNameToCategoryId(form.value.category)\n      };\n      this.itemService.addItems(item).subscribe(data => {\n        this.lastItemId = data.id;\n        this.lastItemName = data.name;\n        this.itemAdded = 'Done';\n      }, err => {\n        this.itemAdded = 'Error';\n      });\n    } else {\n      this.itemAdded = 'Empty';\n    }\n  }\n  resolveCategoryNameToCategoryId(categoryName) {\n    let filtertedCategory = this.allCategories.filter(category => {\n      return category.name === categoryName;\n    });\n    this.filteredCategory = [...filtertedCategory];\n    return this.filteredCategory[0].id;\n  }\n}\nAddItemComponent.ɵfac = function AddItemComponent_Factory(t) {\n  return new (t || AddItemComponent)(i0.ɵɵdirectiveInject(i1.CategoryService), i0.ɵɵdirectiveInject(i2.ItemService));\n};\nAddItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddItemComponent,\n  selectors: [[\"app-add-item\"]],\n  viewQuery: function AddItemComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n    }\n  },\n  decls: 71,\n  vars: 12,\n  consts: [[1, \"container\", \"mt-2\", \"mx-3\"], [3, \"ngSubmit\"], [\"itemForm\", \"ngForm\"], [1, \"form-group\", \"row\", \"col-md-6\"], [1, \"col-xs-3\"], [\"for\", \"name\"], [\"type\", \"text\", \"name\", \"name\", \"id\", \"name\", \"ngModel\", \"\", \"required\", \"\", \"placeholder\", \"Enter Item Name\", 1, \"form-control\"], [\"name\", \"ngModel\"], [4, \"ngIf\"], [1, \"col-xs-3\", \"mt-2\", \"dropup\"], [\"for\", \"category\"], [\"name\", \"category\", \"required\", \"\", \"ngModel\", \"\", 1, \"form-control\"], [\"category\", \"ngModel\"], [\"value\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-xs-3\", \"mt-2\"], [\"for\", \"description\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"description\", \"id\", \"description\", \"placeholder\", \"Enter Item Description\", 1, \"form-control\"], [\"description\", \"ngModel\"], [\"for\", \"price\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"price\", \"id\", \"price\", \"placeholder\", \"Enter Item Price\", 1, \"form-control\"], [\"price\", \"ngModel\"], [\"for\", \"ratings\"], [\"onmousedown\", \"if(this.options.length>3){this.size=3;}\", \"onchange\", \"this.blur()\", \"onblur\", \"this.size=0;\", \"ngModel\", \"\", \"name\", \"ratings\", \"id\", \"ratings\", \"aria-label\", \".form-select-sm example\", 1, \"form-select\", \"form-select-sm\"], [\"ratings\", \"ngModel\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"for\", \"discount\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"discount\", \"id\", \"discount\", \"placeholder\", \"Enter Item Discount\", 1, \"form-control\"], [\"discount\", \"ngModel\"], [\"type\", \"submit\", \"value\", \"Submit\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", 1, \"btn\", \"buttons\", \"my-2\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-sm\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"class\", \"modal-title\", \"id\", \"exampleModalLabel\", 4, \"ngIf\"], [\"class\", \"modal-title  me-4 pr-5\", \"id\", \"exampleModalLabel\", 4, \"ngIf\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [\"class\", \"modal-body\", 4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-transparent\"], [3, \"value\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [1, \"bi\", \"bi-check-circle\", \"me-2\"], [1, \"bi\", \"bi-exclamation-triangle\", \"me-2\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\", \"me-4\", \"pr-5\"], [1, \"bi\", \"bi-x-circle\", \"me-2\"], [1, \"modal-body\"]],\n  template: function AddItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r18 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"h1\");\n      i0.ɵɵtext(3, \"Add Item\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function AddItemComponent_Template_form_ngSubmit_4_listener() {\n        i0.ɵɵrestoreView(_r18);\n        const _r0 = i0.ɵɵreference(5);\n        return i0.ɵɵresetView(ctx.onItemAdd(_r0));\n      });\n      i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4)(8, \"label\", 5);\n      i0.ɵɵtext(9, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 6, 7);\n      i0.ɵɵelementStart(12, \"div\");\n      i0.ɵɵtemplate(13, AddItemComponent_small_13_Template, 2, 0, \"small\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 9)(15, \"label\", 10);\n      i0.ɵɵtext(16, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"select\", 11, 12)(19, \"option\", 13);\n      i0.ɵɵtext(20, \"Select Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, AddItemComponent_option_21_Template, 2, 2, \"option\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\");\n      i0.ɵɵtemplate(23, AddItemComponent_small_23_Template, 2, 0, \"small\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 15)(25, \"label\", 16);\n      i0.ɵɵtext(26, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"textarea\", 17, 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 15)(30, \"label\", 19);\n      i0.ɵɵtext(31, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"input\", 20, 21);\n      i0.ɵɵelementStart(34, \"div\");\n      i0.ɵɵtemplate(35, AddItemComponent_small_35_Template, 2, 0, \"small\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"div\", 15)(37, \"label\", 22);\n      i0.ɵɵtext(38, \"Ratings\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"select\", 23, 24)(41, \"option\", 25);\n      i0.ɵɵtext(42, \"1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"option\", 26);\n      i0.ɵɵtext(44, \"2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"option\", 27);\n      i0.ɵɵtext(46, \"3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"option\", 28);\n      i0.ɵɵtext(48, \"4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"option\", 29);\n      i0.ɵɵtext(50, \"5\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(51, \"div\", 15)(52, \"label\", 30);\n      i0.ɵɵtext(53, \"Discount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(54, \"input\", 31, 32);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(56, \"input\", 33);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 34)(58, \"div\", 35)(59, \"div\", 36)(60, \"div\", 37);\n      i0.ɵɵtemplate(61, AddItemComponent_h5_61_Template, 3, 0, \"h5\", 38);\n      i0.ɵɵtemplate(62, AddItemComponent_h5_62_Template, 3, 0, \"h5\", 38);\n      i0.ɵɵtemplate(63, AddItemComponent_h5_63_Template, 3, 0, \"h5\", 39);\n      i0.ɵɵelement(64, \"button\", 40);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(65, AddItemComponent_div_65_Template, 11, 2, \"div\", 41);\n      i0.ɵɵtemplate(66, AddItemComponent_div_66_Template, 3, 0, \"div\", 41);\n      i0.ɵɵtemplate(67, AddItemComponent_div_67_Template, 3, 0, \"div\", 41);\n      i0.ɵɵelementStart(68, \"div\", 42)(69, \"button\", 43);\n      i0.ɵɵtext(70, \"Ok\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(11);\n      const _r3 = i0.ɵɵreference(18);\n      const _r7 = i0.ɵɵreference(33);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngIf\", _r1.invalid && _r1.touched);\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"is-invalid\", _r3.touched && _r3.invalid);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.allCategories);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.invalid && _r3.touched);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", _r7.invalid && _r7.touched);\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"ngIf\", ctx.itemAdded === \"Done\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.itemAdded === \"Empty\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.itemAdded === \"Error\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.itemAdded === \"Done\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.itemAdded === \"Error\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.itemAdded === \"Empty\");\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i5.NavbarComponent],\n  styles: [\".buttons[_ngcontent-%COMP%] {\\r\\n    border: 1px solid black;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\ninput.ng-invalid.ng-touched[_ngcontent-%COMP%]{\\r\\n    border: red 1px solid\\r\\n}\\r\\nselect.ng-invalid.ng-touched.is-invalid[_ngcontent-%COMP%]{\\r\\n  border: red 1px solid\\r\\n}\\r\\n.is-invalid[_ngcontent-%COMP%]{\\r\\n    border: red 1px solid\\r\\n  }\\r\\n    small[_ngcontent-%COMP%]{\\r\\n      color: red\\r\\n  }\\r\\n\\r\\n  .bi-check-circle[_ngcontent-%COMP%]{\\r\\n    color: #8BC34A;\\r\\n}\\r\\n  .bi-exclamation-triangle[_ngcontent-%COMP%]{\\r\\n    color: #eed202;\\r\\n}\\r\\n.bi-x-circle[_ngcontent-%COMP%]{\\r\\n  color:red;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvVmlldy9hZGQtaXRlbS9hZGQtaXRlbS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJO0FBQ0o7QUFDQTtFQUNFO0FBQ0Y7QUFDQTtJQUNJO0VBQ0Y7SUFDRTtNQUNFO0VBQ0o7O0VBRUE7SUFDRSxjQUFjO0FBQ2xCO0VBQ0U7SUFDRSxjQUFjO0FBQ2xCO0FBQ0E7RUFDRSxTQUFTO0FBQ1giLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9ucyB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuaW5wdXQubmctaW52YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyOiByZWQgMXB4IHNvbGlkXHJcbn1cclxuc2VsZWN0Lm5nLWludmFsaWQubmctdG91Y2hlZC5pcy1pbnZhbGlke1xyXG4gIGJvcmRlcjogcmVkIDFweCBzb2xpZFxyXG59XHJcbi5pcy1pbnZhbGlke1xyXG4gICAgYm9yZGVyOiByZWQgMXB4IHNvbGlkXHJcbiAgfVxyXG4gICAgc21hbGx7XHJcbiAgICAgIGNvbG9yOiByZWRcclxuICB9XHJcblxyXG4gIC5iaS1jaGVjay1jaXJjbGV7XHJcbiAgICBjb2xvcjogIzhCQzM0QTtcclxufVxyXG4gIC5iaS1leGNsYW1hdGlvbi10cmlhbmdsZXtcclxuICAgIGNvbG9yOiAjZWVkMjAyO1xyXG59XHJcbi5iaS14LWNpcmNsZXtcclxuICBjb2xvcjpyZWQ7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["NgForm","i0","AddItemComponent","constructor","categoryService","itemService","ngOnInit","fetchAllCategories","console","log","allCategories","getCategories","subscribe","data","push","onItemAdd","form","valid","item","name","value","description","price","ratings","discount","category_id","resolveCategoryNameToCategoryId","category","addItems","lastItemId","id","lastItemName","itemAdded","err","categoryName","filtertedCategory","filter","filteredCategory","selectors","viewQuery"],"sourceRoot":"","sources":["D:\\food-bill-management\\client\\src\\app\\View\\add-item\\add-item.component.ts","D:\\food-bill-management\\client\\src\\app\\View\\add-item\\add-item.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Category } from 'src/app/Model/category.model';\nimport { Item } from 'src/app/Model/item.model';\nimport { CategoryService } from 'src/app/Model/Services/category/category.service';\nimport { ItemService } from 'src/app/Model/Services/item/item.service';\n\n@Component({\n  selector: 'app-add-item',\n  templateUrl: './add-item.component.html',\n  styleUrls: ['./add-item.component.css']\n})\nexport class AddItemComponent implements OnInit{\n\n  @ViewChild('itemForm') form = NgForm;\n\n  allCategories: any[] = [];\n  filteredCategory: Item[]  = [];\n  lastItemId: number;\n  lastItemName: string;\n  itemAdded: string;\n\n  constructor(private categoryService: CategoryService, private itemService: ItemService) { }\n\n  ngOnInit() {\n    this.fetchAllCategories();\n    console.log(this.allCategories);\n    \n  }\n\n  fetchAllCategories() {\n    this.categoryService.getCategories().subscribe((data) => {\n      this.allCategories.push(...data)\n    })\n  };\n\n  onItemAdd(form:any) {\n    if(form.valid) {\n      let item: any = {\n        name: form.value.name,\n        description: form.value.description,\n        price: form.value.price,\n        ratings: form.value.ratings,\n        discount: form.value.discount,\n        category_id: this.resolveCategoryNameToCategoryId(form.value.category)\n      }\n      this.itemService.addItems(item).subscribe((data:any) => {\n        this.lastItemId = data.id;\n        this.lastItemName = data.name;\n        this.itemAdded = 'Done'\n      }, (err) => {\n        this.itemAdded = 'Error'\n      })\n    } else {\n      this.itemAdded = 'Empty'\n    }\n    \n  }\n\n  resolveCategoryNameToCategoryId(categoryName:string) {\n    let filtertedCategory = this.allCategories.filter((category) => {\n      return category.name === categoryName\n    });\n    this.filteredCategory = [...filtertedCategory];    \n    return this.filteredCategory[0].id;\n  }\n}\n","<app-navbar></app-navbar>\n<div class=\"container mt-2 mx-3\">\n    <h1>Add Item</h1>\n    <form (ngSubmit)=\"onItemAdd(itemForm)\" #itemForm=\"ngForm\">\n      <div class=\"form-group row col-md-6\">\n          <div class=\"col-xs-3\">\n              <label for=\"name\">Name</label>\n              <input type=\"text\" class=\"form-control\" name=\"name\" id=\"name\" ngModel required #name = ngModel placeholder=\"Enter Item Name\">\n              <div>\n                  <small *ngIf=\"name.invalid && name.touched\">Item Name is required</small>\n              </div>\n          </div>\n          <div class=\"col-xs-3 mt-2 dropup\">\n              <label for=\"category\">Category</label>\n              <select  name=\"category\" class=\"form-control\" required [class.is-invalid]=\"category.touched && category.invalid\" #category = ngModel ngModel  >                \n                  <option value=\"\" selected>Select Category</option>\n                  <option  *ngFor=\"let category of allCategories\" [value]=\"category.name\">{{category.name}}</option>              \n                </select>\n                <div>\n                  <small *ngIf=\"category.invalid && category.touched\">Category is required</small>\n              </div>\n          </div>\n          <div class=\"col-xs-3 mt-2\">\n              <label for=\"description\">Description</label>\n              <textarea type=\"text\" class=\"form-control\"  #description = ngModel ngModel name=\"description\"  id=\"description\" placeholder=\"Enter Item Description\"></textarea>\n          </div>\n          \n          <div class=\"col-xs-3 mt-2\">\n              <label for=\"price\">Price</label>\n              <input type=\"text\" class=\"form-control\"  #price = ngModel ngModel name=\"price\" id=\"price\" placeholder=\"Enter Item Price\">\n              <div>\n                  <small *ngIf=\"price.invalid && price.touched\">Price is required</small>\n              </div>\n          </div>\n          <div class=\"col-xs-3 mt-2\">\n              <label for=\"ratings\">Ratings</label>\n              <select onmousedown=\"if(this.options.length>3){this.size=3;}\" onchange=\"this.blur()\"  onblur=\"this.size=0;\" #ratings = ngModel ngModel class=\"form-select form-select-sm\" name=\"ratings\" id=\"ratings\" aria-label=\".form-select-sm example\">\n                  <option value=\"1\">1</option>\n                  <option value=\"2\">2</option>\n                  <option value=\"3\">3</option>\n                  <option value=\"4\">4</option>\n                  <option value=\"5\">5</option>\n                </select>\n          </div>\n          <div class=\"col-xs-3 mt-2\">\n              <label for=\"discount\">Discount</label>\n              <input type=\"text\" class=\"form-control\" #discount = ngModel ngModel name=\"discount\" id=\"discount\" placeholder=\"Enter Item Discount\">\n          </div>\n          \n      </div>\n      <input type=\"submit\" class=\"btn buttons my-2\" value= \"Submit\"  data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n    </form>\n    <!-- modal starts -->\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-sm modal-dialog-centered\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\" *ngIf=\"itemAdded === 'Done'\"><i class=\"bi bi-check-circle me-2\"></i>Added!</h5>\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\" *ngIf=\"itemAdded === 'Empty'\"><i class=\"bi bi-exclamation-triangle me-2\"></i>Warning!</h5>\n              <h5 class=\"modal-title  me-4 pr-5\" id=\"exampleModalLabel\" *ngIf=\"itemAdded === 'Error'\"><i class=\"bi bi-x-circle me-2\"></i>Error!</h5>\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"itemAdded === 'Done'\">            \n              <p>Item Details added successfully. Details:</p>\n              <p><b>Item ID:</b> {{lastItemId}}</p>\n              <p><b>Item Name:</b> {{lastItemName}}</p>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"itemAdded === 'Error'\">            \n              <p>item not added!</p>\n            </div>\n            <div class=\"modal-body\" *ngIf=\"itemAdded === 'Empty'\">            \n              <p>Please enter all Details</p>\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"btn btn-transparent\" data-bs-dismiss=\"modal\">Ok</button>\n              \n            </div>\n          </div>\n        </div>\n      </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}